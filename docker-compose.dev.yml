services:
  dashboard:
    build: .
    container_name: rlic-dashboard-dev
    ports:
      - "8501:8501"
    volumes:
      # Mount source code for hot-reload
      - ./src/dashboard:/app/src/dashboard:ro
      # Mount data directory
      - ./data:/app/data:ro
      # Mount qualitative content for hot-reload
      - ./docs/qualitative:/app/docs/qualitative:ro
      # Mount cache directory (read-write for caching)
      - ./cache:/app/cache
    environment:
      - STREAMLIT_SERVER_HEADLESS=true
      - STREAMLIT_SERVER_RUN_ON_SAVE=true
      - STREAMLIT_BROWSER_GATHER_USAGE_STATS=false
    command: >
      streamlit run src/dashboard/Home.py
      --server.address=0.0.0.0
      --server.port=8501
      --server.runOnSave=true
      --server.fileWatcherType=poll
